"use strict";require("source-map-support/register");var _logger = _interopRequireDefault(require("../logger"));

var _config = _interopRequireDefault(require("./config"));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}


const { logger } = _logger.default;



function errorResponseHandler(err, req, res, next) {
  if (err.code) {
    return res.status(err.code).send({ message: err.message });
  }

  logger.error(err);
  return res.status(500).send(null);
}

_config.default.use(errorResponseHandler);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHAvZXJyb3JzLnRzIl0sIm5hbWVzIjpbImxvZ2dlciIsIkxvZyIsImVycm9yUmVzcG9uc2VIYW5kbGVyIiwiZXJyIiwicmVxIiwicmVzIiwibmV4dCIsImNvZGUiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImVycm9yIiwiYXBwIiwidXNlIl0sIm1hcHBpbmdzIjoib0RBQUE7O0FBRUEsMEQ7OztBQUdBLE1BQU0sRUFBQ0EsTUFBRCxLQUFXQyxlQUFqQjs7OztBQUlBLFNBQVNDLG9CQUFULENBQThCQyxHQUE5QixFQUFrREMsR0FBbEQsRUFBZ0VDLEdBQWhFLEVBQStFQyxJQUEvRSxFQUFtRztBQUNqRyxNQUFJSCxHQUFHLENBQUNJLElBQVIsRUFBYztBQUNaLFdBQU9GLEdBQUcsQ0FBQ0csTUFBSixDQUFXTCxHQUFHLENBQUNJLElBQWYsRUFBcUJFLElBQXJCLENBQTBCLEVBQUNDLE9BQU8sRUFBRVAsR0FBRyxDQUFDTyxPQUFkLEVBQTFCLENBQVA7QUFDRDs7QUFFRFYsRUFBQUEsTUFBTSxDQUFDVyxLQUFQLENBQWFSLEdBQWI7QUFDQSxTQUFPRSxHQUFHLENBQUNHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixJQUFyQixDQUFQO0FBQ0Q7O0FBRURHLGdCQUFJQyxHQUFKLENBQVFYLG9CQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvZyBmcm9tICdAL2xvZ2dlcic7XG5pbXBvcnQge05leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVzcG9uc2V9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGFwcCBmcm9tICdAL2FwcC9jb25maWcnO1xuaW1wb3J0IHtMb2xTdGF0c0Vycm9yfSBmcm9tICdAL2hlbHBlcnMvZXJyb3JzJztcblxuY29uc3Qge2xvZ2dlcn0gPSBMb2c7XG5cbi8vIEB0b2RvIE5lZWQgdG8gdW5kZXJzdGFuZCBiZXR0ZXIgaG93IC8gd2hlbiB0aGlzIGlzIHN1cHBvc2VkIHRvIGJlIHVzZWRcbi8vIEFkZCBjYXRjaGluZyBmb3IgZXJyb3JzXG5mdW5jdGlvbiBlcnJvclJlc3BvbnNlSGFuZGxlcihlcnI6IExvbFN0YXRzRXJyb3IsIHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSB7XG4gIGlmIChlcnIuY29kZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKGVyci5jb2RlKS5zZW5kKHttZXNzYWdlOiBlcnIubWVzc2FnZX0pO1xuICB9XG4gIC8vIFVuZXhwZWN0ZWQgZXJyb3IsIGxvZyBpdCBhbmQgcmVzcG9uZCB3aXRoIDUwMCBzdGF0dXMgY29kZSB3aXRob3V0IGEgYm9keVxuICBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKG51bGwpO1xufVxuXG5hcHAudXNlKGVycm9yUmVzcG9uc2VIYW5kbGVyKTtcbiJdfQ==